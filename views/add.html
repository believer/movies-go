<form
  hx-post="/movies/new"
  class="flex flex-col gap-6 max-w-xl px-4 py-8 mx-auto"
>
  <div class="flex flex-col gap-2 relative">
    <label
      for="imdb_id"
      class="text-sm font-semibold text-neutral-500 dark:text-neutral-400"
      >IMDb ID</label
    >
    <input
      required
      type="text"
      hx-get="/movies/imdb"
      hx-trigger="keyup changed delay:500ms"
      hx-target="#movie-exists"
      name="imdb_id"
      id="imdb_id"
      class="w-full rounded border border-neutral-200 dark:border-neutral-700 bg-transparent ring-offset-white dark:ring-offset-neutral-900 px-4 py-2 ring-offset-2 focus:outline-none focus:ring-2 focus:ring-neutral-400 dark:focus:ring-neutral-500"
    />
    <div
      id="movie-exists"
      class="lg:absolute lg:-right-52 lg:w-48 text-xs lg:outline-dashed lg:outline-offset-4 lg:outline-neutral-500 empty:hidden lg:rounded lg:p-2 lg:top-6"
    ></div>
    <div class="text-xs text-neutral-500 dark:text-neutral-400">
      For example, https://www.imdb.com/title/tt0111161/, or just tt0111161.
    </div>
  </div>

  <div class="flex flex-col gap-2">
    <label
      for="rating"
      class="text-sm font-semibold text-neutral-500 dark:text-neutral-400"
      >Rating</label
    >
    <input
      required
      type="number"
      name="rating"
      max="10"
      min="0"
      id="rating"
      class="w-full rounded border border-neutral-200 dark:border-neutral-700 bg-transparent ring-offset-white dark:ring-offset-neutral-900 px-4 py-2 ring-offset-2 focus:outline-none focus:ring-2 focus:ring-neutral-400 dark:focus:ring-neutral-500"
    />
  </div>

  <div class="flex flex-col gap-2">
    <label
      for="watched_at"
      class="text-sm font-semibold text-neutral-500 dark:text-neutral-400"
    >
      Watched at
    </label>
    <input
      type="datetime-local"
      name="watched_at"
      id="watched_at"
      class="w-full rounded border border-neutral-200 dark:border-neutral-700 bg-transparent ring-offset-white dark:ring-offset-neutral-900 px-4 py-2 ring-offset-2 focus:outline-none focus:ring-2 focus:ring-neutral-400 dark:focus:ring-neutral-500 h-11"
    />
    <div class="text-xs text-neutral-500 dark:text-neutral-400">
      Defaults to current time if left empty.
    </div>
  </div>
  <footer>
    <button
      class="px-6 py-2 text-neutral-700 bg-neutral-200 dark:text-neutral-200 dark:bg-neutral-700 rounded"
      type="submit"
    >
      Add
    </button>
    <div class="htmx-indicator">Sending...</div>
  </footer>
</form>
